<div class="asset-container">
	<button mat-fab class="plus-btn" (click)="registerDevice()">+</button>
	<h2>Dispositivos Cadastrados</h2>
	<mat-spinner diameter=50 *ngIf="loading"></mat-spinner>
   <mat-card class="form-card mat-elevation-z8 animated fadeIn" *ngIf="!assets.length && !loading">
		<mat-card-content class="card-content" [class.onesignal-opacity]="loadingReport">
			<h3 class="info">
				Não há dispositivos cadastrados ainda.
			</h3>
			<p class="secondary">
				Para cadastrar um novo dispositivo, clique no botão no canto superior direito.
			</p>
		</mat-card-content>
	</mat-card>
	<div class="table-wrapper animated fadeIn" *ngIf="assets.length && !loading">
		<mat-table [dataSource]="assets" class="mat-elevation-z8">
			<!-- Name Column -->
			<ng-container matColumnDef="name">
				<mat-header-cell *matHeaderCellDef> Nome do dispositivo </mat-header-cell>
				<mat-cell *matCellDef="let element">
					{{element?.name | titlecase}}
					<span class="secondary" *ngIf="!element?.name">Não informado</span>
				</mat-cell>
			</ng-container>

			<!-- Name Column -->
			<ng-container matColumnDef="description">
				<mat-header-cell *matHeaderCellDef> Descrição </mat-header-cell>
				<mat-cell *matCellDef="let element">
					{{element?.description}}
				</mat-cell>
			</ng-container>

			<mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
			<mat-row (click)="showDetails(row)" *matRowDef="let row; columns: displayedColumns;"></mat-row>
		</mat-table>
	</div>
</div>
